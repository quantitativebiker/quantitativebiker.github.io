<!DOCTYPE HTML>
<html>
<head>
    <title>Demo GS PDE FDM solution with adapted moving mesh method in WebGL</title>

    <script type="text/javascript" src="gl.js"></script>
    <script type="text/javascript" src="demo.js"></script>
    <script type="text/javascript" src="crd.js"></script>
    <script type="text/javascript" src="movemesh.js"></script>
    <script type="text/javascript" src="lines.js"></script>
    <script type="text/javascript" src="max.js"></script>
    <script type="text/javascript" src="min.js"></script>
    <script type="text/javascript" src="meshinitialiser.js"></script>
    <script type="text/javascript" src="colors.js"></script>

    <style>
            * {
                user-select: none;
                margin: 0;
                padding: 0;
            }

            html {width:100%; height:100%;}

            body {
                background-color: #888;
                margin: 0;
                width: 100%;
                height: 100%;
            }
    </style>
</head>
<body onload="startDemo();">

    <table>
        <tr>
            <td>




                <span style="color: white; background-color: #333;" id="blurbid">The Gray-Scott reaction-diffusion pattern generating model</span> <br />
                <img id="gsmodelimg" src="gs-model.png" /> <br />


                <input type="button" value="Initial condition (1st)" onclick="useIc = 0; reset = true;" /> <br />
                <input type="button" value="Initial condition (2nd) " onclick="useIc = 1; reset = true;" /> <br />
                <input type="button" value="Initial condition (3rd) " onclick="useIc = 2; reset = true;" /> <br />
                <input type="button" value="Steady state (then use kick)" onclick="useIc = 3; reset = true;" /> <br />

                <span style="color: white; background-color: #333;">Kick amount</span> <input id="kickTextBox" value="0.1" /> <br />
                <input type="button" value="Kick" onclick="randomKick = true;" /> <br />

                <span style="color: white; background-color: #333;">dt</span> <input id="dtTextBox" value="2.0" /> <br />
                <span style="color: white; background-color: #333;">Du</span> <input id="duTextBox" value="6e-6" /> <br />
                <span style="color: white; background-color: #333;">Dv</span> <input id="dvTextBox" value="1e-6" /> <br />
                <span style="color: white; background-color: #333;">f:</span> <input id="fTextBox" value="0.016" /> <br />
                <span style="color: white; background-color: #333;">k:</span> <input id="kTextBox" value="0.051" /> <br />
                <br />
                <span style="color: white; background-color: #333;" id="uInfo"></span> <br />

                <table>
                    <tr style="background-color:#333">
                        <td>
                            <label style="color:white;float:left">Adaptive moving mesh</label>
                        </td>
                        <td>
                            <input type="checkbox" id="adaptiveMeshCheck" checked />
                        </td>
                    </tr>
                    <tr style="background-color:#333">
                        <td>
                            <label style="color:white;float:left">Show grid</label>
                        </td>
                        <td>
                            <input type="checkbox" id="showMeshChecked" checked />
                        </td>
                    </tr>
                </table>


    <span style="color:white; background-color: #333;">Source code repository is available at <br/> <a href="https://github.com/quantitativebiker/gswebgl"> https://github.com/quantitativebiker/gswebgl</a>  </span> <br/>

            </td>

            <td style="width: 100%; display: grid; "><canvas id="democanvas" style="margin:auto; display:block;"></canvas></td>
        </tr>
    </table>

    <script>
        (function () {
            var c = document.getElementById('democanvas');
            c.getContext('webgl');

            var blub = document.getElementById('blurbid');
            var img = document.getElementById('gsmodelimg');

            window.addEventListener('resize', resizeCanvas, false);

            function resizeCanvas() {
                c.width = Math.min(window.innerWidth - 4, window.innerHeight - 4);
                c.height = c.width;
                img.width = blub.getBoundingClientRect().width;
            }

            resizeCanvas();
        })();
    </script>
</body>
</html>

